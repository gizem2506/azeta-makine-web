{"ast":null,"code":"import _objectSpread from \"/Users/gizemaltay/Downloads/JWLQDZUcastro-react-construction-template-2023-11-27-05-03-28-utc/castro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"/Users/gizemaltay/Downloads/JWLQDZUcastro-react-construction-template-2023-11-27-05-03-28-utc/castro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/gizemaltay/Downloads/JWLQDZUcastro-react-construction-template-2023-11-27-05-03-28-utc/castro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from \"react\";\nimport { devicePixelRatio, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, ImageSlide, useEventCallback, useLayoutEffect } from \"../../core/index.js\";\nexport var isResponsiveImageSlide = function isResponsiveImageSlide(slide) {\n  var _a;\n\n  return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n};\nexport var ResponsiveImage = function ResponsiveImage(props) {\n  var _a, _b;\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      state = _React$useState2[0],\n      setState = _React$useState2[1];\n\n  var current = state.current,\n      preload = state.preload;\n  var image = props.slide,\n      rect = props.rect,\n      imageFit = props.imageFit,\n      render = props.render;\n  var srcSet = image.srcSet.sort(function (a, b) {\n    return a.width - b.width;\n  });\n  var width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n  var height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n  var cover = image.imageFit === IMAGE_FIT_COVER || image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER;\n  var maxWidth = Math.max.apply(Math, _toConsumableArray(srcSet.map(function (x) {\n    return x.width;\n  })));\n  var targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n  var pixelDensity = devicePixelRatio();\n  var handleSourceChange = useEventCallback(function () {\n    var _a;\n\n    var targetSource = (_a = srcSet.find(function (x) {\n      return x.width >= targetWidth * pixelDensity;\n    })) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n\n    if (!current) {\n      setState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          current: targetSource.src\n        });\n      });\n    } else if (srcSet.findIndex(function (x) {\n      return x.src === current;\n    }) < srcSet.findIndex(function (x) {\n      return x === targetSource;\n    })) {\n      setState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          preload: targetSource.src\n        });\n      });\n    }\n  });\n  useLayoutEffect(handleSourceChange, [rect === null || rect === void 0 ? void 0 : rect.width, rect === null || rect === void 0 ? void 0 : rect.height, pixelDensity, handleSourceChange]);\n  var handlePreload = useEventCallback(function (currentPreload) {\n    if (currentPreload === preload) {\n      setState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          current: preload,\n          preload: undefined\n        });\n      });\n    }\n  });\n\n  var style = _objectSpread({\n    WebkitTransform: \"translateZ(0)\"\n  }, rect.width / rect.height < width / height ? {\n    width: \"100%\",\n    height: \"auto\"\n  } : {\n    width: \"auto\",\n    height: \"100%\"\n  });\n\n  return React.createElement(React.Fragment, null, preload && preload !== current && React.createElement(ImageSlide, _objectSpread(_objectSpread({\n    key: preload\n  }, props), {}, {\n    slide: _objectSpread(_objectSpread({}, image), {}, {\n      src: preload,\n      srcSet: undefined\n    }),\n    style: _objectSpread({\n      position: \"absolute\",\n      visibility: \"hidden\"\n    }, style),\n    onLoad: function onLoad() {\n      return handlePreload(preload);\n    },\n    render: _objectSpread(_objectSpread({}, render), {}, {\n      iconLoading: function iconLoading() {\n        return null;\n      },\n      iconError: function iconError() {\n        return null;\n      }\n    })\n  })), current && React.createElement(ImageSlide, _objectSpread(_objectSpread({\n    key: current\n  }, props), {}, {\n    slide: _objectSpread(_objectSpread({}, image), {}, {\n      src: current,\n      srcSet: undefined\n    }),\n    style: style\n  })));\n};","map":{"version":3,"names":["React","devicePixelRatio","IMAGE_FIT_CONTAIN","IMAGE_FIT_COVER","ImageSlide","useEventCallback","useLayoutEffect","isResponsiveImageSlide","slide","_a","srcSet","length","ResponsiveImage","props","_b","useState","state","setState","current","preload","image","rect","imageFit","render","sort","a","b","width","height","cover","maxWidth","Math","max","map","x","targetWidth","min","pixelDensity","handleSourceChange","targetSource","find","prev","src","findIndex","handlePreload","currentPreload","undefined","style","WebkitTransform","createElement","Fragment","key","position","visibility","onLoad","iconLoading","iconError"],"sources":["/Users/gizemaltay/Downloads/JWLQDZUcastro-react-construction-template-2023-11-27-05-03-28-utc/castro/node_modules/yet-another-react-lightbox/dist/plugins/zoom/ResponsiveImage.js"],"sourcesContent":["import * as React from \"react\";\nimport { devicePixelRatio, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, ImageSlide, useEventCallback, useLayoutEffect, } from \"../../core/index.js\";\nexport const isResponsiveImageSlide = (slide) => { var _a; return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0; };\nexport const ResponsiveImage = (props) => {\n    var _a, _b;\n    const [state, setState] = React.useState({});\n    const { current, preload } = state;\n    const { slide: image, rect, imageFit, render } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = image.imageFit === IMAGE_FIT_COVER || (image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = devicePixelRatio();\n    const handleSourceChange = useEventCallback(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current) {\n            setState((prev) => ({ ...prev, current: targetSource.src }));\n        }\n        else if (srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            setState((prev) => ({ ...prev, preload: targetSource.src }));\n        }\n    });\n    useLayoutEffect(handleSourceChange, [rect === null || rect === void 0 ? void 0 : rect.width, rect === null || rect === void 0 ? void 0 : rect.height, pixelDensity, handleSourceChange]);\n    const handlePreload = useEventCallback((currentPreload) => {\n        if (currentPreload === preload) {\n            setState((prev) => ({ ...prev, current: preload, preload: undefined }));\n        }\n    });\n    const style = {\n        WebkitTransform: \"translateZ(0)\",\n        ...(rect.width / rect.height < width / height\n            ? {\n                width: \"100%\",\n                height: \"auto\",\n            }\n            : { width: \"auto\", height: \"100%\" }),\n    };\n    return (React.createElement(React.Fragment, null,\n        preload && preload !== current && (React.createElement(ImageSlide, { key: preload, ...props, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (React.createElement(ImageSlide, { key: current, ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}